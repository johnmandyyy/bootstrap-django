{% extends "app/layout.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}

<div id="{{ obj_name }}">
    <div class="row">

    </div>
</div>

<script>

new Vue({
    delimiters: ["[[", "]]"],
    el: "#" + '{{ obj_name }}',
    data: {

    },
    mounted() {
        if (document.querySelector("#" + '{{ obj_name }}')) {
            console.log("Mounted " + '{{ obj_name }}' + " page.")
        }
        this.get_stack_trace()
    },
    methods: {

        async get_stack_trace() {

            const authToken = localStorage.getItem('token')
            const url = '/api/list-create/stacktrace/';

            try {
                // Send GET request with the cleaned token in the Authorization header
                const result = await axios.get(url, {
                    headers: {
                        'Authorization': `Bearer ${authToken}`
                    }
                });

            } catch (error) {

            }
        }
    },
});
</script>
{% endblock %}